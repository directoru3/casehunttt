# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –º–µ—Ö–∞–Ω–∏–∫–∏ –∫–µ–π—Å–æ–≤

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ –±–æ–Ω—É—Å–∞ ‚úÖ

**–ë—ã–ª–æ:** 100 TON
**–°—Ç–∞–ª–æ:** 1 TON

**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω Edge Function `telegram-auth` - –Ω–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç 1 TON
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª–∏: `Balance initialized with 1 TON welcome bonus`

**–§–∞–π–ª—ã:**
- `supabase/functions/telegram-auth/index.ts` - —Å—Ç—Ä–æ–∫–∞ 104: `balance: 1`

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
1. –£–¥–∞–ª–∏—Ç–µ localStorage
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü—Ä–æ–π–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
4. –ë–∞–ª–∞–Ω—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å = 1 TON
```

---

### 2. –°–∏—Å—Ç–µ–º–∞ Secret Code ‚úÖ

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã:**
```sql
‚úÖ secret_codes - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–¥–æ–≤
   - code (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
   - case_id (—Å–≤—è–∑—å —Å –∫–µ–π—Å–æ–º)
   - max_uses_per_user (–ª–∏–º–∏—Ç = 100)
   - is_active (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ–¥–∞)

‚úÖ secret_code_uses - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
   - user_id
   - code
   - used_at
```

**–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:**
```
Code: FREEGIFT2024
Case: free-gift
Limit: 100 uses per user
```

#### Backend API

**Edge Function:** `use-secret-code`

**Endpoint:**
```javascript
POST /functions/v1/use-secret-code
Body: {
  userId: "123456789",
  code: "FREEGIFT2024"
}
```

**–û—Ç–≤–µ—Ç—ã:**
```javascript
// –£—Å–ø–µ—Ö
{
  success: true,
  caseId: "free-gift",
  usesLeft: 99,
  maxUses: 100,
  message: "Free case activated! 99 uses remaining"
}

// –õ–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω
{
  success: false,
  error: "Maximum uses reached for this code",
  usesLeft: 0,
  maxUses: 100
}

// –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥
{
  success: false,
  error: "Invalid or inactive code"
}
```

#### Frontend

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `SecretCodeModal.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ö—Ä–∞—Å–∏–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- ‚úÖ –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º uppercase
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- ‚úÖ –°—á–µ—Ç—á–∏–∫ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å "How it works"
- ‚úÖ –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã –Ω–∞ —Ñ–æ–Ω–µ

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ App:**
```typescript
// –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ Free Gift –∫–µ–π—Å
if (caseData.id === 'free-gift') {
  setShowSecretCode(true);
}

// –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫–æ–¥–∞
onSuccess={(caseId) => {
  const freeCase = mockCases.find(c => c.id === caseId);
  setSelectedCase(freeCase); // –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–µ–π—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
}}
```

#### Free Gift Case

**mockData.ts:**
```typescript
{
  id: 'free-gift',
  name: 'Free Gift',
  price: 0,
  category: 'free'
}
```

**–ü—Ä–µ–¥–º–µ—Ç—ã:**
- fg1: Free Coin (common) - 0.1 TON
- fg2: Gift Token (common) - 0.2 TON
- fg3: Lucky Charm (uncommon) - 0.5 TON
- fg4: Bonus Star (uncommon) - 0.8 TON
- fg5: Golden Gift (rare) - 1.5 TON
- fg6: Premium Token (epic) - 3.0 TON
- fg7: Mega Gift (legendary) - 5.0 TON

---

### 3. –ú–µ—Ö–∞–Ω–∏–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∫–µ–π—Å–æ–≤ (–í –ø—Ä–æ—Ü–µ—Å—Å–µ) ‚ö†Ô∏è

**–ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**

1. **–ü–æ–∑–∏—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:**
   - ‚ùå –ü—Ä–µ–¥–º–µ—Ç –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É
   - ‚ùå –ù–µ—Ç —á–µ—Ç–∫–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
   - ‚ùå –†–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç "—Å—ä–µ—Ö–∞—Ç—å" –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

2. **–§–∏–∫—Å–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**
   - ‚ùå –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å—á–µ–∑–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ
   - ‚ùå –ù–µ—Ç –∫–Ω–æ–ø–∫–∏ "Continue" –¥–ª—è —è–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞

3. **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
   - ‚ùå –ù–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∞ "–º–∞–≥–Ω–∏—Ç–∞"
   - ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–ª–∞–≤–Ω–æ–µ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```typescript
// –í CaseOpenModal.tsx

// 1. –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–∞—Ä–∫–µ—Ä
<div className="absolute top-0 bottom-0 left-1/2 w-1 bg-yellow-500 shadow-2xl shadow-yellow-500/50 z-10" />

// 2. –£–ª—É—á—à–∏—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
const itemWidth = 150;
const gap = 16;
const containerWidth = scrollContainer.offsetWidth;
const centerOffset = (containerWidth - itemWidth) / 2;

// –ù–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å –≤—ã–∏–≥—Ä—ã—à–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞
const winnerIndex = expandedItems.findIndex(item => item.id === winner.id);

// –¢–æ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞
const scrollDistance = (winnerIndex * (itemWidth + gap)) - centerOffset;

// 3. –ü–ª–∞–≤–Ω–æ–µ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ
scrollRef.current.style.transition = 'transform 5.5s cubic-bezier(0.17, 0.67, 0.05, 1)';

// 4. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è "Continue"
const [showContinueButton, setShowContinueButton] = useState(false);

// –ü–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
setTimeout(() => {
  setShowContinueButton(true);
}, 6000);

// –ö–Ω–æ–ø–∫–∞ –≤ JSX
{showContinueButton && (
  <button onClick={handleContinue}>
    Continue
  </button>
)}
```

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–ü–æ–ª—É—á–∏—Ç—å welcome bonus:**
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å ‚Üí –ø–æ–ª—É—á–∏—Ç–µ 1 TON –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Secret Code:**
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–µ–π—Å "Free Gift"
   - –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥: `FREEGIFT2024`
   - –ù–∞–∂–º–∏—Ç–µ "Activate Code"
   - –ö–µ–π—Å –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ
   - –õ–∏–º–∏—Ç: 100 –æ—Ç–∫—Ä—ã—Ç–∏–π

3. **–û—Ç–∫—Ä—ã—Ç—å Free Gift:**
   - –û–±—ã—á–Ω–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞
   - –í—ã–∏–≥—Ä—ã—à –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
   - –ú–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

**–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Secret Code:**
```sql
INSERT INTO secret_codes (code, case_id, max_uses_per_user, is_active)
VALUES ('NEWCODE2024', 'free-gift', 100, true);
```

**–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥:**
```sql
UPDATE secret_codes SET is_active = false WHERE code = 'FREEGIFT2024';
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```sql
SELECT
  code,
  COUNT(*) as total_uses,
  COUNT(DISTINCT user_id) as unique_users
FROM secret_code_uses
GROUP BY code;
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```sql
SELECT
  code,
  COUNT(*) as uses
FROM secret_code_uses
WHERE user_id = '123456789'
GROUP BY code;
```

---

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:

1. ‚úÖ `create_secret_codes_table.sql`
   - –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã secret_codes –∏ secret_code_uses
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç RLS –ø–æ–ª–∏—Ç–∏–∫–∏
   - –î–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω–¥–µ–∫—Å—ã
   - –í—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–¥ FREEGIFT2024

### RLS –ü–æ–ª–∏—Ç–∏–∫–∏:

**secret_codes:**
```sql
‚úÖ "Anyone can read active codes" - –≤—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–¥—ã
‚úÖ "Service role can manage codes" - —Å–µ—Ä–≤–∏—Å –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ–º–∏
```

**secret_code_uses:**
```sql
‚úÖ "Users can read own code usage" - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Å–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é
‚úÖ "Service role can manage code uses" - —Å–µ—Ä–≤–∏—Å –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ–º–∏
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Test Case 1: –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

```
1. –û—á–∏—Å—Ç–∏—Ç–µ localStorage
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü—Ä–æ–π–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
   ‚úì –ë–∞–ª–∞–Ω—Å = 1 TON
   ‚úì –í –∫–æ–Ω—Å–æ–ª–∏: "Balance initialized with 1 TON"
```

### Test Case 2: Secret Code - –ø–µ—Ä–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ "Free Gift" –∫–µ–π—Å
2. –í–≤–µ–¥–∏—Ç–µ: FREEGIFT2024
3. –ù–∞–∂–º–∏—Ç–µ "Activate Code"
   ‚úì –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—Ö–∞
   ‚úì –°–æ–æ–±—â–µ–Ω–∏–µ: "Free case activated! 99 uses remaining"
   ‚úì –ö–µ–π—Å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### Test Case 3: Secret Code - –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ —Å–Ω–æ–≤–∞
   ‚úì Usages Left —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è
   ‚úì –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ 100 —Ä–∞–∑
```

### Test Case 4: Secret Code - –ª–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω

```
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ 100 —Ä–∞–∑
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ 101-–π —Ä–∞–∑
   ‚úì –û—à–∏–±–∫–∞: "Maximum uses reached for this code"
   ‚úì usesLeft = 0
```

### Test Case 5: –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥

```
1. –í–≤–µ–¥–∏—Ç–µ: WRONGCODE
2. –ù–∞–∂–º–∏—Ç–µ "Activate"
   ‚úì –û—à–∏–±–∫–∞: "Invalid or inactive code"
```

---

## üìù –ó–∞–º–µ—Ç–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ:

- ‚úÖ Welcome bonus 1 TON
- ‚úÖ Secret Code —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å RLS
- ‚úÖ Beautiful UI –¥–ª—è –≤–≤–æ–¥–∞ –∫–æ–¥–∞
- ‚úÖ Tracking –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
- ‚úÖ Free Gift –∫–µ–π—Å —Å –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:

- ‚ö†Ô∏è –ú–µ—Ö–∞–Ω–∏–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∫–µ–π—Å–æ–≤ (—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚ö†Ô∏è –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- ‚ö†Ô∏è –ö–Ω–æ–ø–∫–∞ "Continue" –ø–æ—Å–ª–µ –≤—ã–∏–≥—Ä—ã—à–∞

### –ò–¥–µ–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ:

- üîÆ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–¥—ã (expires_at)
- üîÆ –ö–æ–¥—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∞–∫—Ç–∏–≤–∞—Ü–∏–π (max_total_uses)
- üîÆ –ö–æ–¥—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (user_whitelist)
- üîÆ –ö–æ–¥—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–µ–π—Å–æ–≤
- üîÆ Admin –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞–º–∏
- üîÆ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–æ–≤
- üîÆ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∫–æ–¥–∞—Ö

---

## üöÄ –î–µ–ø–ª–æ–π

**Edge Functions —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã:**
- ‚úÖ `telegram-auth` (–æ–±–Ω–æ–≤–ª–µ–Ω)
- ‚úÖ `use-secret-code` (–Ω–æ–≤—ã–π)

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ RLS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–π –∫–æ–¥ –≤—Å—Ç–∞–≤–ª–µ–Ω

**Frontend:**
- ‚úÖ –°–æ–±—Ä–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
[TelegramAuth] Balance initialized with 1 TON
[SecretCode] Code activated: FREEGIFT2024
[SecretCode] Uses left: 99/100
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Supabase:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥—ã
SELECT * FROM secret_codes;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
SELECT * FROM secret_code_uses ORDER BY used_at DESC LIMIT 10;
```

–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ
